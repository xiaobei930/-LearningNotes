# 基础命令讲解(二)

## 权限管理

`chmod、chown、setfacl、chattr、lsattr`

### chmod 命令

变更文件或者改变目录权限
| 参数 | 注释 |
 | :---------: | :----------------------------------------- |
u |用户user，文件或目录的所有者。
g |用户组group，文件或目录所属群组
o |其它用户others
a |所有用户all，系统默认使用此项
+ |添加某些权限
- |取消某些权限
= |设置文件的权限为给定的权限
r |表示可读权限
w |表示可写权限
x |表示可执行权限
s |设置权限suid和sgid，使用权限组合“u+s”设定文件的用户的ID位，“g+s”设置组ID位
t |只有目录或文件的所有者才可以删除目录下的文件
-R |递归处理，将指令目录下的所有文件及子目录一并处理

#### 设置可读可写

```shell
# o+w | o=rw
# + 表示直接加上写权限。
# = 表示将其他用户权限设置为可读可写，如果以前还有可执行权限，现在也去掉。
[root@xiaobei home]# mkdir -p /home/file
[root@xiaobei home]# ll
total 0
drwxr-xr-x. 2 root root  6 Jul 14 19:30 file
[root@xiaobei home]# chmod o+w file
[root@xiaobei home]# ll
total 0
drwxr-xrwx. 2 root root  6 Jul 14 19:30 file
或者：
[root@xiaobei home]# chmod o=rw file
[root@xiaobei home]# ll
total 0
drwxr-xrw-. 2 root root  6 Jul 14 19:30 file
# 对目录进行授权，R表示递归：
[root@xiaobei home]# chmod -R o+w /home/file/
```

#### 危险操作

将目录权限设置为其他用户可写，这时普通用户是可以进入到目录中任意删除，修改文件名(即使不是自己的文件)，对文件的其他用户权限为不可写的文件也可以强制保存。

```shell
# chmod o+w /home/
# xiaobei1用户修改xiaobei2用户的文件：
# 提示不能修改
#E45: 'readonly' option is set (add ! to override)
#这时可以强制保存（:wq!）

# 【o-w】将目录权限设置为其他用户不可写（目录默认权限755），这时普通用户就无法删除，修改文件名，但是如果文件本身有其他可写权限，还是可以写数据的。
```

**总结一下：**
父目录其他用户有可写权限，其下子文件不管有没有可写权限，均可强行写入，修改！
父目录其他用户没有可写权限，其下子文件只有可写才有写入权限，但不具备删除，修改文件名权限。

#### 设置t权限

#### 设置s权限

### setfacl 命令

## 用户管理
